# 인터넷은 어떻게 동작하는가?  
**인터넷**은 웹의 핵심적인 기술이다. 컴퓨터들이 서로 통신 가능한 거대한 네트워크 이것이 인터넷이다.  

### 인터넷의 역사  
1960년대 미 육군에서 기금한 연구 프로젝트에서 시작되었다. 기존의 통신, 즉 유선 상황에서 10명이 연결하기 위해서는 **10*9/2** 만큼의 횟수가 필요하게 된다 즉 10명이 연결하기 위해 45개의 연결이 필요하다 하지만 가운데 중앙 통제를 두게되면 10개의 연결만이 필요하게 된다 자세한 사항은 아래 내용에서 보겠다.  

---
## 단순 네트워크  
두 개의 컴퓨터가 통신이 필요할 때, 우리는 다른 컴퓨터와 물리적으로 또는 무선으로 연결해야 한다.  
![internet-schema](img/internet-schema.png)  
네트워크의 연결은 두 대로 제한되지 않았다. 원하는 만큼 연결할 수 있지만 매우 복잡해진다. 예를 들어 10대의 컴퓨터를 연결하려면 컴퓨터 하나당 9개의 플러그가 달린 45개의 케이블이 필요하다.  
![internet-schema-2](img/internet-schema-2.png)  

- 그렇다면 어떻게 해결하는 것이 가장 적당할까? 

이 문제를 해결하기 위해 가장 효율적인 방법을 생각해보자, 바로 가운데 중앙 제어를 하는 컴퓨터로 다른 모든 컴퓨터를 연결하면 된다.  네트워크의 각 컴퓨터는 라우터라고 하는 특수한 소형 컴퓨터에 연결한다고 가정하자 이 라우터는 **단 하나의 작업**만 시행한다.  

> 컴퓨터 A가 B에게 메세지를 보내주려 한다. 여기서 이 메세지가 C나 D로 전달되서는 안된다.  

이 라우터를 시스템에 추가하려면 10대의 컴퓨터 네트워크에 10개의 케이블만 있으면 된다. 위에서 말한 각 컴퓨터당 9개의 케이블이 필요한 것과 비교하면 훨씬 효율적인 방식이다. 구상도는 아래 그림을 참조하도록 하자  
![internet-schema-3](img/internet-schema-3.png)  

---
## 네트워크 속의 네트워크  
하지만 컴퓨터의 갯수가 늘어나면 얘기가 달라진다. 아무리 라우터에 연결을 해도 100대, 1000대의 컴퓨터를 연결하는 것은 큰 문제가 된다. 이럴때를 위해 라우터끼리의 연결이 허용된다. 만약 10개의 컴퓨터를 연결하는 **라우터를 라우터 끼리 다시 연결**하게 된다면 어떻게 될까? 더욱 효율적인 방식으로 관리가 가능할 것이다. 그리고 이 라우터들을 관리해주는 라우터들의 라우터가 있다면? 역시 라우터의 관리가 보다 여유로워 질것이다.
![internet-schema-5](img/internet-schema-5.png)  
이러한 네트워크는 우리가 **인터넷**이라고 부르는 것에 매우 가까워졌다. 하지만 거리가 멀어지면 다시 문제가 된다. 그렇다면 전화기 기반 시설을 이용하면 어떨까? 전화는 이미 세계 어느곳과 연결되어 있으며 완벽한 배선이라고 할 수 있다. 이미 제공되어있는 전화망을 네트워크를 위해 사용한다면 이보다 효율적인 것은 없지 않은가? 그래서 네트워크를 인터넷 서비스 제공 업체(Internet Service Provider, ISP)들은 전화 배선을 이용해 인터넷을 제공해 주었다. ISP는 특수한 라우터를 관리하고 다른 ISP의 라우터에도 액세스 할 수 있는 회사이다. 그 결과 아래와 같은 인프라를 형성한다.  
> 어려워 보이지만 컴퓨터를 다시 컴퓨터에 연결하고 그 컴퓨터를 다시 컴퓨터에 연결을 반복하는 과정이다. 보다 효율적인 관리를 위해 설계되었다는 것을 이해하면 충분하다.  

![internet-schema-6](img/internet-schema-6.png)  

## 컴퓨터 찾기  
컴퓨터에 메세지를 보내려면 메세지를 받을 특정 컴퓨터를 지정해야 한다. 네트워크에 연결된 모든 컴퓨터는 **IP주소(internet protocol)** 라는 고유한 주소가 있다.  
> 예: 173.194.121.32  

하지만 이 주소는 너무 외우기가 어렵다 그래서 '**도메인 이름**'이라고 하는 사람이 읽을 수 있는 IP주소의 이름을 지정 할 수 있다. 실제 위 예시의 IP는 GOOGLE의 주소이다. 주소창에 검색하고 들어갈 경우 GOOGLE이 나오는 것을 알 수 있다.  

## 인터넷과 웹  
웹 브라우저를 사용하여 웹을 탐색 할 때 일반적으로 도메인 이름을 사용하여 웹 사이트에 접속한다. 이것은 인터넷과 웹이 같은 것을 의미할까? 그렇지 않다. 컴퓨터는 '**웹 서버**'로서 웹 브라우저가 이해할 수 있는 서비스를 제공한다. 인터넷은 인프라이며, **웹은 그 인프라 기반 위에 구축된 서비스**이다.

# 웹의 작동 원리  
웹에 연결된 컴퓨터는 **클라이언트**와 **서버** 라고 한다. 그들이 어떻게 상호작용하는가에 대한 간단한 그림을 보겠다.  
![client-server](img/Client-server.jpg)  
> - 클라이언트는 일반적인 웹 사용자의 인터넷이 연결된 장치들과 이런 장치들에서 이용 가능한 웹에 접근하는 소프트웨어  
> - 서버는 웹 페이지, 사이트, 또는 앱을 저장하는 컴퓨터, 클라이언트의 장비가 웹페이지에 접근하길 원할 때, 서버로부터 클라이언트의 장치로 사용자의 웹 브라우저에서 보여지기 위한 웹페이지 사본이 다운로드 된다.  

## 도구 상자의 다른 부분들  
다만 클라이언트 서버는 모든 내용을 알려주진 않는다. 많은 다른 부분들이 포함되어 있고, 아래 그것들에 대해 설명할 것이다.  
- **인터넷 연결**: 사용자가 웹에서 데이터를 보내고 받을 수 있게 해준다.  
- **TCP/IP**: Transmission Control Protocol(전송 제어 규약)과 Internet Protocol(인터넷 규약)은 데이터가 어떻게 웹을 건너 이동하는지 정의하는 통신 규약  
- **DNS**: Domain Name System Servers(도메인 이름 시스템 서버)는 웹사이트를 위한 주소록과 같다. 사용자가 브라우저에 웹 주소를 입력할 때, 브라우저는 그 웹사이트를 검색하기 전에 DNS를 살펴본다. 브라우저는 HTTP 메세지를 올바른 장소로 전송하기 위해 그 웹사이트가 있는 서버가 어떤건 인지 찾아야 한다.  
- **HTTP**: Hypertext Transfer Protocol은 클라이언트와 서버가 서로 통신할 수있게 하기 위한 언어를 정의하는 어플리케이션 규약이다.  
- **컴포넌트 파일**: 한 웹사이트는 사용자에게 다양한 종류의 기술과 파일들로 이루어져 보여질 것이다. 이 파일들은 두개의 주요한 타입이 있다.  
    - 코드 파일: 웹사이트는 기본적으로 HTML, CSS, JavaScript로 생성된다.  
    - 자원: 이것은 이미지, 음악, 비디오, 단어, 문서, 그리고 PDF 같은, 웹사이트를 만드는 모든 다른 것들을 위한 공동적인 이름이다.  

## 웹이 작동할때 일어나는 일  
사용자가 브라우저에 웹 주소를 입력할 때
1. 브라우저는 DNS 서버로 가서 웹 사이트가 있는 서버의 진짜 주소를 찾는다.  
2. 그 다음 브라우저는 서버에게 웹사이트의 사본을 클라이언트에게 보내달라는 HTTP 요청 메세지를 서버로 전송한다. 이 메세지, 그리고 클라이언트와 서서 사이에 전송된 모든 데이터는 TCP/IP 연결을 통해서 전송된다.  
3. 이 메세지를 받은 서버는 클라이언트의 요청을 승인하고, "200 OK" 메세지를 클라이언트에 전송한다. 이 뜻은 승인을 의미한다. 그 다음 서버는 웹 사이트의 파일들을 데이터 패킷이라 불리는 작은 일련의 덩어리들로 브라우저에 전송하기 시작한다.  
4. 브라우저는 이 작은 덩어리들을 완전한 웹 사이트로 조립하고, 사용자에게 보여준다.  

## DNS 설명  
실제 웹 주소는 ```63.245.217.105```와 같은 숫자 조합이다.  
이것은 **IP주소**라고 하며, 웹의 하나뿐인 특정 위치를 나타낸다. 그러나 기억하기 쉽지 않다는 단점이 있다. 이것이 도메인 서버가 발명된 이유이다. 도메인 이름 서버는 사용자가 브라우저에 입력하는 웹 주소를 웹사이트의 실제 주소(IP주소)에 맞춰주는 서버이다.  

## 패킷 설명  
서버에서 클라이언트로 전송되는 데이터의 포맷을 설명하기 위해 **"패킷"**이라는 용어를 사용했다. 이것은 데이터가 웹을 거쳐서 전송될 때, 수천개의 작은 덩어리들로 전송된다. 그래서 다양한 웹 사용자들은 동시에 같은 웨 사이트를 다운로드 할 수 있게 된다. 만약 웹 사이트가 하나의 큰 덩어리들로 전송된다면, 오직 한 번에 하나의 사용자만 다운로드가 가능 할 것이다. 이는 분명 비효율 적이다.  

